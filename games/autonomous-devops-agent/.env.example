# Runtime mode: dry-run (default) or live
AGENT_MODE=live

# Shared defaults used when upstream systems do not provide repo/branch metadata
DEFAULT_REPO=acme/platform-service
DEFAULT_BRANCH=main

# LLM provider settings (oss/openai/anthropic)
LLM_PROVIDER=openai
LLM_API_KEY=replace-me
LLM_MODEL=gpt-4o-mini

# OAuth token store used by `auth github` and `auth jira` chat commands
OAUTH_TOKEN_STORE_PATH=.agent/oauth-tokens.json

# GitHub OAuth app settings
GITHUB_OAUTH_CLIENT_ID=replace-me
GITHUB_OAUTH_CLIENT_SECRET=replace-me
GITHUB_OAUTH_REDIRECT_URI=http://localhost:8787/callback
GITHUB_OAUTH_SCOPES=repo,read:user

# Jira (Atlassian) OAuth app settings
JIRA_OAUTH_CLIENT_ID=replace-me
JIRA_OAUTH_CLIENT_SECRET=replace-me
JIRA_OAUTH_REDIRECT_URI=http://localhost:8787/callback
JIRA_OAUTH_SCOPES=read:jira-work,write:jira-work,offline_access,read:me
JIRA_OAUTH_AUDIENCE=api.atlassian.com

# Jira Cloud API
# If you use OAuth tokens, JIRA_BEARER_TOKEN can remain empty
JIRA_BASE_URL=https://your-company.atlassian.net
# Optional static auth fallback (when not using OAuth)
# JIRA_EMAIL=you@company.com
# JIRA_API_TOKEN=replace-me
# JIRA_BEARER_TOKEN=replace-me

# GitHub API
GITHUB_BASE_URL=https://api.github.com
# If you use OAuth tokens, GITHUB_TOKEN can remain empty
# GITHUB_TOKEN=replace-me
GITHUB_BASE_BRANCH=main

# Harness pipeline endpoints (required when EXECUTOR_ENABLED=false)
HARNESS_API_KEY=replace-me
HARNESS_PUBLISH_URL=https://app.harness.io/gateway/pipeline/api/pipelines/custom/v1/publish
HARNESS_DEPLOY_URL=https://app.harness.io/gateway/pipeline/api/pipelines/custom/v1/deploy
HARNESS_SCAN_URL=https://app.harness.io/gateway/pipeline/api/pipelines/custom/v1/scan

# Local execution engine for build/test/deploy/validate (optional)
# When enabled, chat-triggered runs execute these commands in EXECUTOR_WORKDIR.
EXECUTOR_ENABLED=true
EXECUTOR_WORKDIR=/absolute/path/to/your/service-repo
BUILD_COMMAND=npm run build
TEST_COMMAND=npm test
DEPLOY_DEV_COMMAND=kubectl apply -f k8s/overlays/dev
DEPLOY_PROD_COMMAND=kubectl apply -f k8s/overlays/prod
VALIDATE_DEV_COMMAND=kubectl rollout status deployment/${K8S_DEPLOYMENT:-app} -n ${K8S_DEV_NAMESPACE:-dev} --timeout=180s
VALIDATE_PROD_COMMAND=kubectl rollout status deployment/${K8S_DEPLOYMENT:-app} -n ${K8S_PROD_NAMESPACE:-prod} --timeout=180s
K8S_DEPLOYMENT=platform-service
K8S_DEV_NAMESPACE=dev
K8S_PROD_NAMESPACE=prod

# ServiceNow (optional but recommended)
SERVICENOW_BASE_URL=https://your-instance.service-now.com
SERVICENOW_TABLE=incident
SERVICENOW_USERNAME=agent-user
SERVICENOW_PASSWORD=replace-me
# Optional bearer token auth
# SERVICENOW_BEARER_TOKEN=replace-me
# Optional default incident/change number to update after each run
SERVICENOW_RECORD_ID=INC0012345
